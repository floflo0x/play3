<%- include('./includes/head.ejs') %>

<link rel="stylesheet" href="/style1.css">
<link rel="stylesheet" href="/setting.css">

<body class="bg-black">

  <header class="header">
    <div class="header-inner">
      <div class="container-fluid">
        <nav class="navbar bg-black fixed-top">
          <div class="container-fluid mb-1 justify-content-center display-6">
            <b style="background: linear-gradient(to top, #7CFC00, #008000);
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              font-family: 'Ubuntu'"
            >Settings</b>
          </div>
        </nav>
      </div>
    </div>
  </header>

  <div class="loading-spinner" id="loadingSpinner">
    <img src="https://i.ibb.co/PTLFqC0/cube.png" alt="Your Logo" class="logoSp">
    <div class="spinner"></div>
  </div>

  <section>
    <div class="container mb-3" style="margin-top: 70px">
      <div class="row justify-content-center">
        <div
          class="col-xxl mb-2 text-center p-2"
          style="
            font-size: 17px;
            color: white;
            background-image: linear-gradient(to right, #a17ce1, #2196f3);
            font-family: 'Poppins'
          "
        >
          <b>Security Settings</b>
        </div>

        <div class="col-12 d-flex align-items-center justify-content-between bg-black text-white mb-2" style="cursor: pointer;" id="login">
          <div class="border-0 flex-grow-1">
            <!-- <img
              src="https://i.ibb.co/t3jScHL/verified.png"
              class="img-fluid"
              width="20px"
            /> -->
            <i class="fa-solid fa-user fa-lg" style="color: #3b3d3f;"></i>
            <button type="button" class="btn border-0 btn1">
              Login password
            </button>
          </div>
          <div class="border-0">
            <img
              src="https://i.ibb.co/2nzvhpr/3.png"
              class="img-fluid"
              width="7px"
            />
          </div>
        </div>

        <div class="col-12 d-flex align-items-center justify-content-between bg-black text-white mb-2" style="cursor: pointer;" id="psw">
          <div class="border-0 flex-grow-1">
            <img
              src="https://i.ibb.co/rwRkHnK/password2.png"
              class="img-fluid"
              width="20px"
            />
            <button type="button" class="btn border-0 btn2">
              Withdrawal password 10(default: login password)
            </button>

            <button type="button" class="btn border-0 btn3" style="display: none;">
              Withdrawal password
            </button>
          </div>
          <div class="border-0">
            <img
              src="https://i.ibb.co/2nzvhpr/3.png"
              class="img-fluid"
              width="7px"
            />
          </div>
        </div>

        <div class="col-12 d-flex align-items-center justify-content-between bg-black text-white mb-2" style="cursor: pointer;" id="email">
          <div class="border-0 flex-grow-1">
            <!-- <img
              src="https://i.ibb.co/6g7C5bW/email.png"
              class="img-fluid"
              width="20px"
            /> -->
            <i class="fa-solid fa-at fa-lg" style="color: #3b3d3f;"></i>
            <button type="button" class="btn border-0 btn1">
              E-mail
            </button>
          </div>
          <div class="border-0">
            <img
              src="https://i.ibb.co/2nzvhpr/3.png"
              class="img-fluid"
              width="7px"
            />
          </div>
        </div>

        <div class="col-12 d-flex align-items-center justify-content-between bg-black text-white mb-2" style="cursor: pointer;" id="phone">
          <div class="border-0 flex-grow-1">
            <!-- <img
              src="https://cdn-icons-png.flaticon.com/512/0/488.png"
              class="img-fluid"
              width="20px"
            /> -->
            <i class="fa-solid fa-phone fa-lg" style="color: #3b3d3f;"></i>
            <button type="button" class="btn border-0 btn1">
              Cell-phone Number
            </button>
          </div>
          <div class="border-0">
            <img
              src="https://i.ibb.co/2nzvhpr/3.png"
              class="img-fluid"
              width="7px"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="d-none" id="section1">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-xxl">
          <form action="/user/settings" method="POST">
            <div class="form-group mb-2">
              <label for="exampleInputPassword1" class="text-white">Old Password</label>
              <input
                type="password"
                name="oldP"
                class="form-control"
                id="exampleInputPassword1"
                required
              />
            </div>

            <div class="form-group mb-2">
              <label for="exampleInputPassword2" class="text-white">New Password</label>
              <input
                type="password"
                name="newP"
                class="form-control"
                id="exampleInputPassword2"
                required
              />
            </div>

            <div class="form-group mb-2">
              <label for="exampleInputPassword3" class="text-white">Confirm Password</label>
              <input
                type="password"
                name="confirmP"
                class="form-control"
                id="exampleInputPassword3"
                required
              />
            </div>

            <button
              type="submit"
              id="update"
              class="btn btn-primary form-control"
            >
              UPDATE
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <section class="d-none" id="section2">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-xxl text-break text-white">
          <%= x.password %>
        </div>
      </div>
    </div>
  </section>

  <section class="d-none" id="section3">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-xxl text-break text-white">
          <%= x.email %>
        </div>
      </div>
    </div>
  </section>

  <section class="d-none" id="section4">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-xxl text-break text-white">
          <%= x.phone %>
        </div>
      </div>
    </div>
  </section>

  <section>
    <div class="container" style="height: 100px;"></div>
  </section>

  <footer>
    <%- include('./includes/footer.ejs', { name: 'account1' }) %>
  </footer>

  <script>
    window.addEventListener('load', function () {
      // console.log("hii...");
      // Get the loading spinner element
      const loadingSpinner = document.getElementById('loadingSpinner');
          
      // Hide the loading spinner
      loadingSpinner.style.display = 'none';
    });
  </script>

  <script>
    let section = globalThis.document.getElementById("section1");
    let login = globalThis.document.getElementById("login");

    let section2 = globalThis.document.getElementById("section2");
    let psw = globalThis.document.getElementById("psw");

    let section3 = globalThis.document.getElementById("section3");
    let email = globalThis.document.getElementById("email");

    let section4 = globalThis.document.getElementById("section4");
    let phone = globalThis.document.getElementById("phone");

    login.addEventListener("click", () => {
      section.classList.toggle('d-none');
      section.classList.toggle('d-block');
      section2.classList.add('d-none');
      section2.classList.remove('d-block');
      section3.classList.add('d-none');
      section3.classList.remove('d-block');
      section4.classList.add('d-none');
      section4.classList.remove('d-block');
    });

    psw.addEventListener("click", () => {
      section2.classList.toggle('d-none');
      section2.classList.toggle('d-block');
      section.classList.add('d-none');
      section.classList.remove('d-block');
      section3.classList.add('d-none');
      section3.classList.remove('d-block');
      section4.classList.add('d-none');
      section4.classList.remove('d-block');
    });

    email.addEventListener("click", () => {
      section3.classList.toggle('d-none');
      section3.classList.toggle('d-block');
      section.classList.add('d-none');
      section.classList.remove('d-block');
      section2.classList.add('d-none');
      section2.classList.remove('d-block');
      section4.classList.add('d-none');
      section4.classList.remove('d-block');
    });

    phone.addEventListener("click", () => {
      section4.classList.toggle('d-none');
      section4.classList.toggle('d-block');
      section.classList.add('d-none');
      section.classList.remove('d-block');
      section2.classList.add('d-none');
      section2.classList.remove('d-block');
      section3.classList.add('d-none');
      section3.classList.remove('d-block');
    });
    
    function changeIconColor(element) {
      // Remove 'activeNav' class from all links
      sdocument.querySelectorAll('.nav-link i').forEach(icon => {
        icon.style.color = '#ffffff';
      });

      document.querySelectorAll('.nav-link span').forEach(text => {
        text.style.color = 'white';
      });

      // Set the clicked icon and text to green
      let icon = link.querySelector('i');
      icon.style.color = '#7CFC00';

      let text = link.querySelector('span');
      text.style.color = '#7CFC00';
    }
  </script>

  <%- include('./includes/end.ejs') %>
</body>
